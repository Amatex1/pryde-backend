# Backend Environment Variables
# Copy this file to .env and fill in your actual values

# Server Configuration
NODE_ENV=production
PORT=10000

# Database
# MongoDB connection string (required)
# Get this from MongoDB Atlas or your MongoDB provider
MONGO_URL=mongodb+srv://username:password@cluster.mongodb.net/pryde-social?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/pryde-social?retryWrites=true&w=majority

# JWT Secret (required)
# Generate a strong random string for production
# You can use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# URLs
# Your backend URL (Render will provide this)
BASE_URL=https://your-app-name.onrender.com

# Your frontend URL (your SiteGround domain)
FRONTEND_URL=https://prydeapp.com

# Web Push Notifications (optional)
# Generate VAPID keys with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key

# Firebase Cloud Messaging (FCM) — Native Android/iOS push notifications
# Option 1: Paste the full Firebase service account JSON as a string (recommended for cloud)
FIREBASE_SERVICE_ACCOUNT_JSON=
# Option 2: Path to Firebase service account JSON file (for local dev)
FIREBASE_SERVICE_ACCOUNT_PATH=

# Passkey/WebAuthn Configuration (required for passkey authentication)
# RP_ID should be your backend domain (without https://)
RP_ID=pryde-social.onrender.com
# ORIGIN should be your frontend URL (with https://)
ORIGIN=https://prydeapp.com

# Email Configuration (required for password reset emails)
# Using Resend for transactional emails
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_your_api_key_here
EMAIL_FROM=Pryde Social <noreply@prydeapp.com>

# hCaptcha Configuration (optional but recommended for production)
# Get your keys from: https://www.hcaptcha.com/
# Secret key is used for server-side verification
# For testing, use: 0x0000000000000000000000000000000000000000 (always passes)
HCAPTCHA_SECRET=0x0000000000000000000000000000000000000000

# App Version (auto-incremented on deploy)
# Format: YYYY-MM-DD-XXX (e.g., 2025-01-22-001)
APP_VERSION=1.0.0

# Build Time (auto-set during build)
BUILD_TIME=2025-01-22T00:00:00.000Z

# Automatic Backups (optional)
# Set to 'true' to enable automatic daily database backups
# Schedule: Once per day at 3:00 AM UTC
# Retention: 30 days (~30 backups, ~23 MB total)
# For manual backups, use: npm run backup
ENABLE_AUTO_BACKUP=false

# Backup API Key (REQUIRED if ENABLE_AUTO_BACKUP=true or backup routes are mounted)
# Generate a strong random value: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Never use the default — the server will refuse to start in production without this set
BACKUP_API_KEY=CHANGE_THIS_TO_A_STRONG_RANDOM_VALUE

# Backup Webhook (optional)
# Discord/Slack webhook URL to receive backup notifications
# BACKUP_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url
